{% extends "orders/layout.html" %}

{% block title %}
Pizza & Subs
{% endblock %}

{% block body %}

<div class="container">
  <div>
    <a class="menubtn" id="pizza" href="#">Pizza</a>
    <a class="menubtn" id="subs" href="#">Subs</a>
    <a class="menubtn" id="pasta" href="#">Pasta</a>
    <a class="menubtn" id="salad" href="#">Salad</a>
    <a class="menubtn" id="dinnerplatter" href="#">Dinner Platter</a>
  </div>
</div>

{{pizzarate}}
<div class="container">
  <div class="yourorder" data-ordertable="pizza">
  </div>

  <div class="menu" data-id="pizza">
    pizza
    <div id="current_pizza_orders">
    </div>

    <div class="form-group">
      <button type="button" class="btn btn-primary" id="add_pizza">Add Pizza</button>
    </div>

    <div id="make_pizza_order">
    </div>

  </div>


  <!--  -->

  <div class="menu"  data-id="subs">
    subs
  </div>
  <div class="menu"  data-id="pasta">
    pasta
  </div>
  <div class="menu" data-id="salad">
    salad
  </div>
  <div class="menu" data-id="dinnerplatter">
    dinnerplatter
  </div>
</div>


<!-- handlebars -->
<script id="radio_template" type="text/x-handlebars-template">
{% verbatim %}
<div class="radio">
<label>
    <input type="radio" name="in_{{category}}" value="{{option_id}}">{{option}}
  </label>
</div>
{% endverbatim %}
</script>
<script>
  document.addEventListener('DOMContentLoaded', () => {

    // remove divs
    document.querySelectorAll('.menu').forEach(div => { div.style.display = "none"; })

    // menu anchors
    document.querySelectorAll('.menubtn').forEach(anchor => {
      anchor.onclick = () => {
        const anchor_src = anchor.id
        // remove divs
        document.querySelectorAll('.menu').forEach(div => {
          if (anchor_src === div.dataset.id) {
            div.style.display = "block";
          } else {
            div.style.display = "none";
          }
        });
    };
  });

  // handlebars template
  const radio_template = Handlebars.compile(document.querySelector('#radio_template').innerHTML);

  // add pizza
  document.querySelector('#add_pizza').onclick = () => {
    const make_pizza_order = document.querySelector('#make_pizza_order');
    make_pizza_order.innerHTML += radio_template()

  }


  });

  // populate pizza type
  function add_pizzatype() {
    let pizzatype_id = JSON.parse("{{pizzatype|safe}}");
    pizzatype_id.forEach(id => {
    });
  };
</script>

{% endblock %}
